<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>字符生成器</title>
    <link rel="icon" type="image/png" href="http://momo-1-img.ao1160301aila.workers.dev/favicon.ico">
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f7fb;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #0056b3;
            margin-bottom: 20px;
        }
        h2 {
            color: #007bff;
            margin-top: 25px;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        .section {
            margin-bottom: 25px;
            padding: 20px;
            background-color: #f9f9ff;
            border: 1px solid #e3e3e3;
            border-radius: 6px;
        }
        label {
            margin-right: 15px;
            display: inline-block;
            margin-bottom: 8px;
        }
        input[type="text"], input[type="number"] {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 5px;
        }
        button {
            padding: 8px 18px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #0056b3;
        }
        .reset-btn {
            background-color: #6c757d;
            margin-left: 10px;
        }
        .reset-btn:hover {
            background-color: #5a6268;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e9ecef;
            border: 1px solid #ced4da;
            border-radius: 4px;
            word-break: break-all;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        .result-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            padding-bottom: 5px;
            border-bottom: 1px dashed #ccc;
        }
         .result-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .result-text {
            flex-grow: 1;
            margin-right: 10px;
        }
         .copy-btn {
            padding: 4px 10px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
  <header class="page-header">
    <a class="back-home" href="index.html">返回主页</a>
    <span class="header-title">工具页眉</span>
  </header>
  <style>
    .page-header {
      display: flex;
      align-items: center;
      background: #1976d2;
      color: #fff;
      padding: 12px 20px;
      font-size: 1.2em;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }
    .back-home {
      color: #fff;
      background: #1565c0;
      border-radius: 4px;
      padding: 5px 12px;
      text-decoration: none;
      margin-right: 18px;
      font-weight: bold;
      transition: background 0.2s;
    }
    .back-home:hover {
      background: #0d47a1;
    }
    .header-title {
      font-weight: bold;
      font-size: 1.1em;
      letter-spacing: 1px;
    }
  </style>
    <div class="container">
        <h1>字符生成器</h1>

        <div class="section">
            <h2>使用说明</h2>
            <p>
                本工具可以生成指定长度和数量的随机字符串。您可以自定义包含的字符类型，并设置生成字符串的前缀和后缀。
            </p>
            <ol>
                <li>设置字符串的最小和最大长度。</li>
                <li>设置要生成的字符串组数。</li>
                <li>（可选）输入前缀和后缀。</li>
                <li>选择要包含的字符类型（数字、大写字母、小写字母、符号）。</li>
                <li>如果勾选“自定义”，请在旁边的输入框中输入自定义字符。</li>
                <li>点击“生成”按钮。</li>
                <li>生成结果将显示在下方，每行带有复制按钮。</li>
                <li>点击“重置”按钮可以恢复默认设置并清空结果。</li>
            </ol>
        </div>

        <div class="section">
            <h2>生成设置</h2>
            <form id="genForm" onsubmit="return false;">
                <div style="margin-bottom: 15px;">
                    长度:
                    <input type="number" id="genMinLength" value="8" min="1" style="width: 60px;"> ~
                    <input type="number" id="genMaxLength" value="16" min="1" style="width: 60px;"> 位
                    数量:
                    <input type="number" id="genCount" value="15" min="1" style="width: 60px;"> 组
                    <button id="generateBtn" style="margin-left: 15px;">生成</button>
                    <button type="button" class="reset-btn" id="genResetBtn">重置</button>
                </div>
                <div style="margin-bottom: 15px;">
                    <label>前缀: <input type="text" id="genPrefix" style="width: 100px;" placeholder="可选"></label>
                    <label>后缀: <input type="text" id="genSuffix" style="width: 100px;" placeholder="可选"></label>
                </div>
                <div style="margin-bottom: 15px;">
                    选择包含的字符：
                    <label><input type="checkbox" name="charset" value="num" checked>数字 0-9</label>
                    <label><input type="checkbox" name="charset" value="AZ" checked>大写字母A-Z</label>
                    <label><input type="checkbox" name="charset" value="az" checked>小写字母a-z</label>
                    <label><input type="checkbox" name="charset" value="symbol">符号</label>
                    <label><input type="checkbox" name="charset" value="custom">自定义</label>
                    <input type="text" id="customChars" style="width: 150px;" placeholder="输入自定义字符">
                </div>
            </form>
        </div>

        <div class="section">
            <h2>生成结果</h2>
            <div id="result" class="result">
                <!-- 生成结果将显示在这里 -->
            </div>
        </div>
    </div>

    <script>
        document.getElementById('generateBtn').onclick = async function() {
            const charsets = Array.from(document.querySelectorAll('input[name="charset"]:checked')).map(el => el.value);
            let custom = '';
            if (charsets.includes('custom')) {
                custom = document.getElementById('customChars').value;
            }
            const minLen = Math.max(1, parseInt(document.getElementById('genMinLength').value) || 1);
            const maxLen = Math.max(minLen, parseInt(document.getElementById('genMaxLength').value) || minLen);
            const count = Math.max(1, parseInt(document.getElementById('genCount').value) || 1);

            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = ''; // Clear previous results

            const charsPool = [];
            if (charsets.includes('num')) charsPool.push(...'0123456789');
            if (charsets.includes('AZ')) charsPool.push(...'ABCDEFGHIJKLMNOPQRSTUVWXYZ');
            if (charsets.includes('az')) charsPool.push(...'abcdefghijklmnopqrstuvwxyz');
            if (charsets.includes('symbol')) charsPool.push(...'!@#$%^&*()_+-=~[]{}|;:,.<>/?');
            if (charsets.includes('custom') && custom) charsPool.push(...custom);

            if (charsPool.length === 0) {
                resultDiv.innerHTML = '<span style="color:red;">请至少选择一种字符集或输入自定义字符。</span>';
                return;
            }

            const prefix = document.getElementById('genPrefix').value || '';
            const suffix = document.getElementById('genSuffix').value || '';

            for (let i = 0; i < count; i++) {
                const len = minLen === maxLen ? minLen : (Math.floor(Math.random() * (maxLen - minLen + 1)) + minLen);
                let str = '';
                for (let j = 0; j < len; j++) {
                    str += charsPool[Math.floor(Math.random() * charsPool.length)];
                }
                const finalString = prefix + str + suffix;

                const row = document.createElement('div');
                row.className = 'result-item';

                const span = document.createElement('span');
                span.className = 'result-text';
                span.textContent = finalString;

                const btn = document.createElement('button');
                btn.className = 'btn copy-btn';
                btn.textContent = '复制';
                btn.onclick = () => {
                    navigator.clipboard.writeText(finalString).then(() => {
                        // Optional: Provide feedback to the user (e.g., change button text temporarily)
                        const originalText = btn.textContent;
                        btn.textContent = '已复制!';
                        setTimeout(() => { btn.textContent = originalText; }, 1500);
                    }).catch(err => {
                         console.error('Failed to copy: ', err);
                         alert('复制失败');
                    });
                };

                row.appendChild(span);
                row.appendChild(btn);
                resultDiv.appendChild(row);
            }
        };

        document.getElementById('genResetBtn').onclick = function() {
            document.getElementById('genMinLength').value = 8;
            document.getElementById('genMaxLength').value = 16;
            document.getElementById('genCount').value = 15;
            document.getElementById('genPrefix').value = '';
            document.getElementById('genSuffix').value = '';
            document.querySelectorAll('input[name="charset"]').forEach(e => e.checked = (e.value !== 'symbol' && e.value !== 'custom'));
            document.getElementById('customChars').value = '';
            document.getElementById('result').innerHTML = '';
        };
    </script>
     <footer id="footer">
        <div class="footer-icons">
          <a href="https://youtube.com/你的频道" target="_blank" title="YouTube" class="footer-icon">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg" alt="YouTube">
          </a>
          <a href="https://x.com/你的账号" target="_blank" title="X" class="footer-icon">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/x.svg" alt="X">
          </a>
          <a href="https://discord.com/你的账号" target="_blank" title="discord" class="footer-icon">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/discord.svg" alt="discord">
          </a>
          <a href="https://instagram.com/你的账号" target="_blank" title="Instagram" class="footer-icon">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram">
          </a>
          <a href="https://github.com/akxxxxxxxxx9" target="_blank" title="GitHub" class="footer-icon">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/github.svg" alt="GitHub">
          </a>
          <a href="https://web.telegram.org/你的账号" target="_blank" title="telegram" class="footer-icon">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/telegram.svg" alt="telegram">
          </a>
        </div>
        <div class="footer-team">
          团队成员：SUOU AKI
        </div>
        <div class="footer-copy">
          &copy; 2025 AKI | Powered by Cloudflare Workers
        </div>
</body>
</html>